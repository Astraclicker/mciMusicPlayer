// main.cpp - ??????????
#include <graphics.h>
#include "ui_liangyu.h"
#include "player.h"
#include <vector>
// ??????????��?
   std::vector<std::string> playlist = {
       "????.mp3",
       "test.mp3"
   };
int currentSongIndex = 0;
int main() {


    // 1. ???????��???
    initgraph(500, 400);

    // 2. ??????????
    Player player;
    // ??��????��????????
    player.addToPlaylist("????.mp3");
    player.addToPlaylist("test.mp3");
    // 3. ???????????
    if (!playlist.empty()) {
        player.load(playlist[currentSongIndex]);
        // ??????
    }

    // 4. ???????
    //player.play();

    // 5. ?????????????
    PlayerUI ui(player);

    // 6. ?????
    bool shouldExit = false;
    BeginBatchDraw();
    while (!shouldExit) {
        // ???????
        ui.draw();


        FlushBatchDraw();
        // ??????????
        Sleep(10);
    }
    EndBatchDraw();
    // 7. ???????
    return 0;
}